---
import type { HttpTypes } from "@medusajs/types";
import { t } from "@/i18n/translations";
import { Heading } from "../shared/typography/heading";
import CheckoutSummary from "./checkout-summary.astro";
import LineItem from "./line-item.astro";

interface Props {
  cart: HttpTypes.StoreCart;
}

const { cart } = Astro.props;
const { language } = Astro.locals;
---

<div
  class="flex h-fit w-full flex-col gap-4 rounded-lg border border-accent p-4 md:max-w-105"
>
  <Heading desktopSize="xl" font="serif" mobileSize="lg" tag="h3">
    {t("checkout.orderDetails", language)}
  </Heading>
  {cart.items?.map((item) => (
    <LineItem item={item} />
  ))}
  <div class="h-px w-full bg-accent" />
  <CheckoutSummary cart={cart} />
</div>
